version: '3.8' # Ezt a sort elhagyhatja, de ez egy jelz√©s, nem hiba
services:

  # üöÄ Backend Szolg√°ltat√°s (Node.js)
  server:
    container_name: video_megoszto_backend
    build:
      context: .
      dockerfile: server.Dockerfile # A gy√∂k√©rben l√©v≈ë √°tnevezett f√°jl
    ports:
      - "3000:3000" # A Node.js alkalmaz√°s portj√°nak lek√©pez√©se
    volumes:
      - .:/app # Fejleszt√©shez: forr√°sk√≥d mountol√°sa (opcion√°lis, de hasznos)
    restart: always

  # üåê Frontend Szolg√°ltat√°s (Nginx)
  client:
    container_name: video_megoszto_frontend
    build:
      context: . # A build kontextus tov√°bbra is a gy√∂k√©r, de a 'dockerfile' be√°ll√≠t√°s pontosit.
      dockerfile: client/Dockerfile # A client mapp√°ban l√©v≈ë Nginx Dockerfile
    ports:
      - "80:80" # Lek√©pezi a kont√©ner 80-as portj√°t a gazdag√©p 80-as portj√°ra (el√©rhet≈ë a http://<IP-c√≠m>)
    volumes:
      # Ez biztos√≠tja, hogy a v√°ltoz√°sok azonnal megjelenjenek a fut√≥ kont√©nerben
      - ./client/public:/usr/share/nginx/html
    restart: always